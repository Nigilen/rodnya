@use '../utils/' as *;
@use 'sass:math' as math;


.main {
    $max-img-width: 800;
    $min-img-width: 255;

    @include flex_col(center, center);
    flex: 1 1 auto;
    height: fit-content;
    position: relative;
    margin-bottom: rem(24);

    // bg text
    &__textBg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('/text/text_desktop.svg');
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
    }

    // model img while downloading
    &__img {
        position: absolute;
        display: block;
        width: max(min(calc(34.5vw + 20vh), rem($max-img-width)), rem($min-img-width));
        height: auto;
        z-index: 100;
        object-fit: cover;

        // when 3d model loads -> hide img
        &.hidden {
            display: none;
        }
    }

    // big tablet - no model loads
    @include break-down($break-custom-tablet) {
        &__img {
            width: max(min(calc(40.5vw + 28.5vh), rem($max-img-width)), rem($min-img-width));
        }

        &__textBg {
            background: url('/text/text_tablet.svg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        margin-bottom: rem(130);
    }

    // tablet
    @include break-down($break-tablet) {
        &__img {
            width: max(min(calc(36.5vw + 28.5vh), rem($max-img-width)), rem($min-img-width));
        }

        &__textBg {
            background: url('/text/text_mobile.svg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
    }

    @include break-down(450) {
        &__img {
            width: max(min(calc(36.5vw + 22.5vh), rem($max-img-width)), rem($min-img-width));
        }
    }
}